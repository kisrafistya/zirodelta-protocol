[workspace]
members = [
    "programs/ziro_delta_amm",
    "programs/ziro_delta_oracle", 
    "programs/ziro_delta_governance",
    "programs/ziro_delta_epoch_manager",
    "programs/ziro_delta_minting",
    "programs/ziro_delta_emergency",
    "programs/mock_oracle"
]

[provider]
cluster = "localnet"
wallet = "~/.config/solana/id.json"

[programs.localnet]
ziro_delta_amm = "Bhvh31neQyERSX3UibBto7w2guD5cnSucC8XUMnaMCXG"
ziro_delta_oracle = "H73D4VqwH9zzccTmtTf7Hw8Hnt8C8gjhYrDZbYDvGkX6"
ziro_delta_governance = "FtQkWEAekK8hcjvFxLS5uXwkkidbDdpqowX88VGZfAvM"
ziro_delta_epoch_manager = "EGhRAxyabjzJqMTRxmAPbbpY9GWXtQJwyqH59LezZCLw"
ziro_delta_minting = "3RurkF7fVRSGgEKspbKsLey8wMtjMrZ7yjmi1b1pbX8r"
ziro_delta_emergency = "DRxmB3DakG4vPtzyLzwydThjmrsDty59TQqGUfUjuvoi"
mock_oracle = "B6SQqosR7NA37eB8wCEotSbXBiEayFQgD6SZuYUDdNiv"

[scripts]
test = "yarn run ts-mocha -p ./tsconfig.json -t 1000000 tests/**/*.ts"

[test]
startup_wait = 5000
shutdown_wait = 2000
upgradeable = false

[test.validator]
url = "https://api.devnet.solana.com"
commitment = "processed"

[[test.validator.account]]
address = "TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"
filename = "tests/fixtures/spl_token-3.5.0.so"

[[test.validator.account]]  
address = "ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"
filename = "tests/fixtures/spl_associated_token-1.1.2.so" 